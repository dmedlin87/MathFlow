
> mathflow@0.0.0 test
> vitest


[1m[44m DEV [49m[22m [34mv4.0.15 [39m[90mC:/Users/dmedl/Projects/MathFlow[39m

 [32mÎ“Â£Ã´[39m src/domain/math-utils.test.ts [2m([22m[2m6 tests[22m[2m)[22m[32m 3[2mms[22m[39m
 [32mÎ“Â£Ã´[39m src/domain/learner/misconceptionEvaluator.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mÎ“Â£Ã´[39m src/domain/skills/grade4-decimals.test.ts [2m([22m[2m7 tests[22m[2m)[22m[32m 5[2mms[22m[39m
 [32mÎ“Â£Ã´[39m src/domain/skills/grade4-fractions.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 6[2mms[22m[39m
 [31mÎ“Â¥Â»[39m src/domain/generator/engine.test.ts [2m([22m[2m7 tests[22m[2m | [22m[31m5 failed[39m[2m)[22m[32m 9[2mms[22m[39m
[31m       [31mâ”œÃ¹[31m tries to fetch from API and successfully returns verifying item[39m[32m 4[2mms[22m[39m
[31m       [31mâ”œÃ¹[31m falls back to local generator if API fetch fails[39m[32m 0[2mms[22m[39m
[31m       [31mâ”œÃ¹[31m falls back to local generator if API returns empty[39m[32m 0[2mms[22m[39m
[31m       [31mâ”œÃ¹[31m uses factory item if bank is empty but factory returns item[39m[32m 0[2mms[22m[39m
[31m       [31mâ”œÃ¹[31m throws error when skill not found locally and API fails[39m[32m 0[2mms[22m[39m
       [32mÎ“Â£Ã´[39m should register and retrieve a generator[32m 1[2mms[22m[39m
       [32mÎ“Â£Ã´[39m should generate an item when generator exists[32m 1[2mms[22m[39m
 [32mÎ“Â£Ã´[39m src/domain/learner/state.test.ts [2m([22m[2m8 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mÎ“Â£Ã´[39m server/src/factory/pipeline.test.ts [2m([22m[2m3 tests[22m[2m)[22m[32m 4[2mms[22m[39m
 [32mÎ“Â£Ã´[39m src/domain/learner/state.behavior.test.ts [2m([22m[2m12 tests[22m[2m)[22m[32m 11[2mms[22m[39m
 [32mÎ“Â£Ã´[39m src/services/LearnerService.test.ts [2m([22m[2m7 tests[22m[2m)[22m[33m 4500[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m should simulate network latency [33m 416[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m should return valid initial state [33m 401[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m should submit attempt and return updated state [33m 1215[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m should reject non-serializable data (Architecture Violation) [33m 417[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m should return null when answer matches no misconception [33m 414[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m should diagnose known misconceptions [33m 413[2mms[22m[39m
     [33m[2mÎ“Â£Ã´[22m[39m should get recommendation from domain logic [33m 1223[2mms[22m[39m

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â» Failed Tests 5 Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»

 FAIL  src/domain/generator/engine.test.ts > Generator Engine > Client Integration (Network & Fallback) > tries to fetch from API and successfully returns verifying item
 FAIL  src/domain/generator/engine.test.ts > Generator Engine > Client Integration (Network & Fallback) > falls back to local generator if API fetch fails
 FAIL  src/domain/generator/engine.test.ts > Generator Engine > Client Integration (Network & Fallback) > falls back to local generator if API returns empty
 FAIL  src/domain/generator/engine.test.ts > Generator Engine > Client Integration (Network & Fallback) > uses factory item if bank is empty but factory returns item
 FAIL  src/domain/generator/engine.test.ts > Generator Engine > Client Integration (Network & Fallback) > throws error when skill not found locally and API fails
TypeError: __vite_ssr_import_1__.Engine is not a constructor
 Î“Â¥Â» src/domain/generator/engine.test.ts:27:27
     25|         beforeEach(() => {
     26|              // Create test engine with API configured (to enable netwÎ“Ã‡Âª
     27|              testEngine = new Engine({ apiBaseUrl: 'http://localhost:3Î“Ã‡Âª
       |                           ^
     28|              testEngine.register(EquivFractionGenerator);
     29|         });

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[1/5]Î“Ã„Â»


[2m Test Files [22m [1m[31m1 failed[39m[22m[2m | [22m[1m[32m8 passed[39m[22m[90m (9)[39m
[2m      Tests [22m [1m[31m5 failed[39m[22m[2m | [22m[1m[32m64 passed[39m[22m[90m (69)[39m
[2m   Start at [22m 23:17:27
[2m   Duration [22m 5.39s[2m (transform 942ms, setup 1.86s, import 896ms, tests 4.55s, environment 1ms)[22m

[1m[41m FAIL [49m[22m [31mTests failed. Watching for file changes...[39m
       [2mpress [22m[1mh[22m[2m to show help[22m[2m, [22m[2mpress [22m[1mq[22m[2m to quit[22m
